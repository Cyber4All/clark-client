<!-- Back Button -->
<div class="back" routerLink="/onion/dashboard">
  <div>
    <i class="far fa-arrow-to-left"></i>
    Back to Learning Objects
  </div>
</div>
<div class="wrapper">
  <div class="top-content" [ngClass]="learningObject.length">
    <div class="left">
      <div class="title-user">
        <div class="title" [ngClass]="{'placeholder': !learningObject.name}">
          {{ learningObject.name || 'Learning Object Name' }}
        </div>
        <div class="author">
          {{ auth.name }}
          <span class="length {{ learningObject.length }}">
            {{ learningObject.length }}
          </span>
        </div>
      </div>
    </div>
    <div class="right">
      <div *ngIf="!isNew" class="published-toggle" [ngClass]="{'disabled': !auth.user}" tip='test tooltip' tipLocation='above' tipDisabled='{{ (auth.user ? false : true) }}'>
        <div class='toggle-label' [ngClass]="{'published': learningObject.published}">
          {{ (this.learningObject.published) ? 'published' : 'unpublished' }}
        </div>
        <div class="toggleSwitch" (click)="togglePublished($event)" [ngClass]="{'on': learningObject.published}">
          <div class="handle"></div>
          <div class="bg"></div>
        </div>
      </div>
      <div class="btn-group to-right">
        <div class="button good save-button" (click)="validate() && save()">Save
          <i class="far fa-check"></i>
        </div>
      </div>
    </div>
  </div>
  <div class="content-wrapper">
    <div class="sidebar-wrapper">
      <onion-sidebar 
        [outcomes]="this.learningObject._outcomes"
        [learningObjectName]="learningObject.name"
        (newOutcome)="newOutcome()"
        (upload)="validate() && save(true)"
        >
      </onion-sidebar>
    </div>
    <div class="component-wrapper">
      <div class="inner">        
          <onion-learning-object-info-page *ngIf="activePage === PAGES.INFO" [learningObject]="learningObject"></onion-learning-object-info-page>
          <onion-learning-object-outcome-container
            *ngIf="activePage === PAGES.OUTCOMES"
            [learningObject]="learningObject"
            [submitted]="submitted"
            [outcomeIndex]="childIndex"
            (deleteOutcomeRequest)="deleteOutcome($event)">
          </onion-learning-object-outcome-container>
      </div>
    </div>
  </div>
</div>
