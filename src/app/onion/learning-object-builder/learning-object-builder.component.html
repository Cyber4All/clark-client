<!--
  TODO:
    * Break into container components on inner-wrapper class (meta, description, outcomes)
    * break outcomes into each as their own container
-->
<onion-sidebar 
  [outcomeCount]="learningObject.outcomes.length"
  [learningObjectName]="learningObject.name"
  (nav)="changePage($event)"
></onion-sidebar>
<div>
  <div class="inner">
    <!-- Back Button -->
    <div class="back" routerLink="/onion/dashboard">
      <div>
        <i class="far fa-arrow-to-left"></i>
        Back to Learning Objects
      </div>
    </div>
    
    <form #form="ngForm" (ngSubmit)="form.valid ? save(false) : showFormErrors()">
      <onion-learning-object-info-page *ngIf="activePage === PAGES.INFO" [learningObject]="learningObject"></onion-learning-object-info-page>
      <onion-learning-object-outcome-container
        *ngIf="activePage === PAGES.OUTCOMES"
        [learningObject]="learningObject"
        [submitted]="submitted"
        [outcomeIndex]="outcomeIndex"
        (newOutcomeRequest)="newOutcome()"
        (deleteOutcomeRequest)="deleteOutcome($event)">
      </onion-learning-object-outcome-container>
      
      <div class="btn-group to-right final">
        <button type="submit" class="button good">Save
          <i class="far fa-check"></i>
        </button>
        <div class="button neutral" (click)="form.valid ? save(true) : showFormErrors()">Upload Materials
          <i class="far fa-upload"></i>
        </div>
        <div class="button bad" routerLink="/onion/dashboard">Cancel
          <i class="far fa-times"></i>
        </div>
      </div>
    </form>
  </div>
</div>
