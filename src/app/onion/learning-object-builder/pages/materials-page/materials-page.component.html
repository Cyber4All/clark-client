<clark-column-wrapper>
  <div left>
    <clark-scaffold
      *ngIf="learningObject"
      [learningObject]="learningObject"
    ></clark-scaffold>
  </div>
  <div main>
    <div class="materials-page-container">
      <div class="page-header">
        <h1 class="page-title">Materials & Content</h1>
        <p class="page-subtitle">Upload files, add URLs, and organize learning materials</p>
      </div>

      <div class="upload-wrapper">
        <app-upload
          [learningObject$]="learningObject$"
          [error$]="error$"
          [saving$]="saving$"
          (filesDeleted)="handleFileDeletion($event)"
          (filesUploaded)="handleFilesUploaded($event)"
          (urlAdded)="handleUrlAdded()"
          (urlUpdated)="handleUrlUpdated($event)"
          (urlRemoved)="handleUrlRemoved($event)"
          (fileDescriptionUpdated)="handleFileDescriptionUpdate($event)"
          (folderDescriptionUpdated)="handleFolderDescriptionUpdate($event)"
          (notesUpdated)="handleNotesUpdate($event)"
          (uploadComplete)="handleUploadComplete($event)"
          (packageableToggled)="handlePackageableToggled($event)"
        ></app-upload>
      </div>
    </div>
    <clark-skip-link title="Go to Materials Tab List" skipLocation="form"></clark-skip-link>
    <clark-skip-link title="Skip to Submit for Review" skipLocation="submit"></clark-skip-link>
  </div>
  <div right>
    <div class="materials-sidebar">
      <div class="sidebar-section">
        <div class="section-header">
          <div class="icon">
            <i class="far fa-sticky-note"></i>
          </div>
          <div class="title">
            Material Notes
          </div>
        </div>
        <div class="notes-container">
          <div *ngIf="notes?.length; else noNotesTemplate" class="note-list">
            <clark-material-notes *ngFor="let n of notes" [note]="n" class="note"></clark-material-notes>
          </div>
          <ng-template #noNotesTemplate>
            <div class="no-notes-state">
              <i class="far fa-lightbulb"></i>
              <p>No notes yet. Add notes to provide context and instructions for your materials.</p>
            </div>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</clark-column-wrapper>
