<section class="metadata-wrapper">
  <div class="header">
    <div class="back"></div>
    <div id="basic-information-title" class="title">{{ copy.TITLE }}
    </div>
    <div></div>
  </div>
  <div class="section">
    <div class="input-group">
      <div class="label" id="name-label">
        What is this learning object named?
      </div>
      <input class="name-field" id="object-name-field" type="text" autofocus name="name" placeholder="Learning Object Name" [(ngModel)]="learningObject.name" #name="ngModel"
        [ngClass]="{'bad': errorStore.error === 'name' }" [pattern]="validName" />
    </div>
    <div class="input-group">
      <div class="label" id="contributors-label">
        Add more authors.
      </div>
      <div *ngIf="selectedAuthors.length > 0">
        <div class="level-list">
          <div class="level button" *ngFor="let user of selectedAuthors; let i = index;" (click)="toggleLevel(level)">
            {{ user.name | titlecase }}
            <span (click)="removeAuthor(user)">
              <i class="fa fa-trash" aria-hidden="true"></i>
            </span>
          </div>
        </div>
      </div>
      <input id="user-search" #userSearchInput type="text" aria-label="user textbox" class="search-input" placeholder="{{ copy.COLLABPLACEHOLDER }}" [(ngModel)]="query.text">
      <div id="container">
        <ul>
          <li *ngFor="let user of searchResults; let i = index;">
            <span *ngIf="!this.isAuthorSelected(i)" id="plus" (click)="addAuthor(i)">
              <i class="fas fa-plus"></i>
            </span>
            <span *ngIf="this.isAuthorSelected(i)" id="delete" (click)="removeAuthor(user)">
              <i class="fa fa-trash"></i>
            </span>
            <span class="navbar-gravatar" [ngStyle]="{'background-image': 'url(' + userService.getGravatarImage(user.email, 200) + ')'}"></span>
            {{ user.username }} - {{ user.name | titlecase }} from {{ user.organization | titlecase }}
          </li>
        </ul>
      </div>
    </div>
    <div class="input-group">
      <div id="length-label" class="label">
        {{ copy.LENGTH }}
      </div>
      <div class="select-wrapper">
        <select [(ngModel)]="learningObject.length" name="type" class="flex-g1 vert-center">
          <option value="nanomodule">{{ copy.NANO }}</option>
          <option value="micromodule">{{ copy.MICRO }}</option>
          <option value="module">{{ copy.MOD }}</option>
          <option value="unit">{{ copy.UNIT }}</option>
          <option value="course">{{ copy.COURSE }}</option>
        </select>
      </div>
    </div>

    <div class="input-group">
      <div id="level-label" class="label">
        {{ copy.LEVELS }}
      </div>
      <div class="level-list">
        <div class="level button" id="level-selection" [ngClass]="{selected: learningObject.levels.includes(level)}" *ngFor="let level of academicLevels"
          (click)="toggleLevel(level)">
          {{ level | titlecase}}
          <span *ngIf="learningObject.levels.includes(level)">
            <i class="far fa-check-circle"></i>
          </span>
        </div>
      </div>
    </div>
  </div>
</section>