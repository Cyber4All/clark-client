<div class="dashboard-list">
  <div class="dashboard-list__top">
    <p class="dashboard-list__title" tabindex="0">
      {{ title || 'Learning Objects' }} 
      <span *ngIf="learningObjects">({{ learningObjects.length }})</span>
    </p>
    <div *ngIf="showOptions; else buttonPlaceholderTemplate" class="dashboard-list__options">
      <div class="btn-group to-right">
        <button aria-label="Create a new Learning Object" class="button good">New <i class="far fa-plus"></i></button>
        <button #filterMenuButtonElement aria-label="Filter Learning Objects by status" class="button neutral" (click)="toggleFilterMenu(true)">Filter <i class="far fa-angle-down"></i></button>
      </div>
      <ng-container *ngIf="!editingChildren">
        <!-- Filter Context Menu -->
        <clark-context-menu *ngIf="filterMenuDown" [anchor]="filterMenuButtonElement" [offset]="{ top: 10, left: 5 }" (close)="toggleFilterMenu()">
          <div #contextMenu class="filter-menu">
            <ul>
              <li class="unreleased" (click)="toggleFilter('unreleased')">
                <div *ngIf="filters.get('unreleased')" class="indicator"></div>
                <i class="far fa-eye-slash"></i>Unreleased
              </li>
              <li class="waiting" (click)="toggleFilter('waiting')">
                <div *ngIf="filters.get('waiting')" class="indicator"></div>
                <i class="far fa-hourglass"></i>Waiting for Review
              </li>
              <li class="review" (click)="toggleFilter('review')">
                <div *ngIf="filters.get('review')" class="indicator"></div>
                <i class="far fa-sync"></i>Under Review
              </li>
              <li class="proofing" (click)="toggleFilter('proofing')">
                <div *ngIf="filters.get('proofing')" class="indicator"></div>
                <i class="far fa-shield"></i>Proofing
              </li>
              <li class="released" (click)="toggleFilter('released')">
                <div *ngIf="filters.get('released')" class="indicator"></div>
                <i class="far fa-eye"></i>Released
              </li>
              <li class="denied" (click)="toggleFilter('rejected')">
                <div *ngIf="filters.get('denied')" class="indicator"></div>
                <i class="far fa-ban"></i>Denied
              </li>
            </ul>
          </div>
        </clark-context-menu>
      </ng-container>
    </div>
    <ng-template #buttonPlaceholderTemplate>
      <div style="height: 40px;"></div>
    </ng-template>
  </div>
  <div role="table" class="dashboard-list__table">
    <div role="row" class="table__head">
      <clark-checkbox role="button" aria-label="Select all Learning Objects"></clark-checkbox>
      <div role="columnheader">Status</div>
      <div role="columnheader">Name</div>
      <div role="columnheader">Type</div>
      <div role="columnheader">Date</div>
      <div role="columnheader" aria-label="Spacing element for meatball menu"></div>
    </div>
    <div role="rowgroup" class="table__items">
      <div *ngFor="let l of learningObjects" role="row">
        <clark-dashboard-list-item 
          [learningObject]="l"
        ></clark-dashboard-list-item>
      </div>
    </div>
  </div>
</div>
