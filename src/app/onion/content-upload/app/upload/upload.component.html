<<<<<<< HEAD
<div class="content-upload-component">
  <div class="container">
    <div class="inner-wrapper padded-bottom">
      <div class="header">
        <div class="back" routerLink="/onion/dashboard">
          <div>
            <i class="far fa-arrow-to-left"></i>Back to Dashboard</div>
        </div>
        <div class="title" id="materials-title">
          Manage Materials
        </div>
        <div class="back right" [routerLink]="['/onion/learning-object-builder', learningObject.name ]">
          <div>
            Back to Learning Object
            <i class="far fa-arrow-to-right"></i>
          </div>
        </div>
      </div>

      <onion-file-manager id="onion-file-manager" [dropzone] (addedFile)="addFile($event)" [files$]="files$" [folderMeta$]="folderMeta$" (openDZ)="openDZ()"
=======
<div class="manage-materials">
  <div class="title">
    {{ learningObjectName }}
  </div>
  <div class="tabs">
    <ul>
      <li [ngClass]="{'active': slide === 1}" (click)="changeSlide(1)">Materials</li>
      <li [ngClass]="{'active': slide === 2}" (click)="changeSlide(2)">URLs</li>
      <li [ngClass]="{'active': slide === 3}" (click)="changeSlide(3)">Notes</li>
    </ul>
    <div class="server-status" [ngClass]="{'saving': saving}">
      <ng-container *ngIf="!saving; else savingTemplate">
        <span>
          Saved <i class="far fa-check"></i>
        </span>
      </ng-container>
      <ng-template #savingTemplate>
        <span>
          Saving <i class="far fa-spinner-third fa-spin"></i>
        </span>
      </ng-template>
    </div>
  </div>
  <div class="materials-slides">
    <div [@fadeIn] *ngIf="slide === 1" class="slide slide1">
      <!-- This element has a dropzone tag as a backup in case the browser doesn't support the dragover event or something goes wrong -->
      <onion-file-manager *ngIf="!retrieving; else loadingTemplate" [dropzone] [confirmDeletion]="confirmDeletion$" (dragOver)="toggleDrag(true)" (addedFile)="addFile($event)" [files$]="files$" [folderMeta$]="folderMeta$" (openDZ)="openDZ()"
>>>>>>> fdd57a44cb2cd718c554603f8f74a8b9b0aa7656
        (fileDeleted)="handleDeletion($event)" (fileEdited)="handleEdit($event)" (path)="openPath=$event">
      </onion-file-manager>
    </div>
    <div [@fadeIn] *ngIf="slide === 2"class="slide slide2">
      <clark-url-manager [urls]="learningObject.materials.urls" (add)="addURL()" (remove)="removeURL($event)" (save)="saveLearningObject()"></clark-url-manager>
    </div>
    <div [@fadeIn] *ngIf="slide === 3"class="slide slide3">
      <div class="topbar">
        <div class="slide-title">Notes</div>
      </div>
      <div class="notes">
        <textarea aria-label="Learning Object notes" rows="8" type="text" [(ngModel)]="learningObject.materials.notes" name="learningObjectNotes" placeholder="Add any notes on copyright, grant acknowledgments, etc." (input)="triggerSave$.next()"></textarea>
      </div>
    </div>
<<<<<<< HEAD
    <div class="btn-group to-right final">
      <button *ngIf="!queuedUploads$.getValue().length" type="button" (click)="save()" class="button good" id="upload-save" [disabled]="submitting">Save
        <i class="fas fa-check"></i>
      </button>
    </div>
=======
>>>>>>> fdd57a44cb2cd718c554603f8f74a8b9b0aa7656
  </div>
</div>
<upload-queue [@uploadQueue] *ngIf="queuedUploads$.getValue().length" class="upload-queue" [queuedUploads$]="queuedUploads$" [uploading$]="uploading$"
    (upload)="save(true)"></upload-queue>
<div class="uploader" [ngClass]="{'dragging': showDragMenu, 'dropped': dropped}" [dropzone]="{'clickable': true}" (addedFile)="addFile($event)" (dragLeave)="toggleDrag(false)">
  <div class="uploader-content">
    <div class="uploader-icon">
      <i class='far fa-arrow-up'></i>
    </div>
    <div class="uploader-text">
      <div>Drop files and folders here</div>
      to add them to {{ (!openPath) ? 'your learning object' : '\'' + openPath + '\''}}!
    </div>
  </div>
</div>

<ng-template #loadingTemplate>
  <div [@fadeIn] class="loading">
    <i class="far fa-spinner-third fa-spin"></i>
  </div>
</ng-template>
