<div class="container">
    <h1 class="title">CyberSkills2Work Collection Statistics Dashboard</h1>
  
    <clark-dashboard-stats [collectionName]="'cyberskills2work'" [dashboardView]="true"></clark-dashboard-stats>

    <div class="downloads-header">
      <h2>All Learning Objects</h2>
      <div class="buttons">
        <button id="status" class="button neutral">Status <i class="fa fa-caret-down"></i></button>
        <button id="status" class="button neutral">Length <i class="fa fa-caret-down"></i></button>
        <button class="button good" (click)="onDownload()">Download a CSV of All Learning Objects</button>
      </div>
    </div>

    <div class="learning-object-table">
      <div class="header">
        <span>Status</span>
        <span>Length</span>
        <span>Name</span>
        <span>Last Updated <i class="fa fa-caret-down"></i></span>
        <span>Downloads</span>
        <span>Rating <i class="fa fa-caret-down"></i></span>
        <span></span>
      </div>
    
      <div *ngFor="let learningObject of learningObjects" class="row">
        <!-- Status -->
        <div class="status" tabindex="0" [attr.aria-label]="'Learning Object Status: ' + learningObject.status + '. ' + statusDescription" [ngClass]="learningObject.status">
          <span *ngIf="learningObject.status === 'unreleased'"><i class="fas fa-eye-slash"></i></span>
          <span *ngIf="learningObject.status === 'waiting'"><i class="fas fa-hourglass"></i></span>
          <span *ngIf="learningObject.status === 'review'"><i class="fas fa-sync"></i></span>
          <span *ngIf="learningObject.status === 'proofing'"><i class="fas fa-shield"></i></span>
          <span *ngIf="learningObject.status === 'released'"><i class="fas fa-eye"></i></span>
          <span *ngIf="learningObject.status === 'rejected'"><i class="fas fa-ban"></i></span>
          <span *ngIf="learningObject.status === 'accepted_minor'"><i class="fas fa-check-double"></i></span>
          <span *ngIf="learningObject.status === 'accepted_major'"><i class="fas fa-check"></i></span>
        </div>
    
        <!-- Length -->
        <div class="info">
          <clark-details-splash-length [length]="learningObject.length"></clark-details-splash-length>
        </div>

        <!-- Name -->
        <div class="info name">{{ learningObject.name }}</div>
    
        <!-- Last Updated -->
        <div class="info date">
          {{ learningObject.date | date:'MM/dd/yyyy' }}
        </div>
    
        <!-- Downloads (only if released) -->
        <div class="info">
          <span *ngIf="learningObject.status === 'released'">{{ learningObject.metrics.downloads }}</span>
        </div>
    
        <!-- Rating (only if released) -->
        <div class="info">
          <clark-rating-stars *ngIf="learningObject.status === 'released'" [rating]="learningObject.rating ? learningObject.rating : 0" color="gold"></clark-rating-stars>
        </div>
    
        <!-- Actions -->
        <div class="info">
          <a [routerLink]="['/details', learningObject.author.username, learningObject.cuid]" class="details-link">View Details ></a>
        </div>
      </div>
    </div>
    
      <clark-pagination [lastPageNumber]="lastPage" [currentPageNumber]="currPage"></clark-pagination>


    <!-- <h2 class="downloads-header">Individual Learning Object Report</h2>
    <div class="downloads-body">
      <mat-form-field>
        <mat-label>Enter a date range</mat-label>
        <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
          <input matStartDate formControlName="start" placeholder="Start date">
          <input matEndDate formControlName="end" placeholder="End date">
        </mat-date-range-input>
        <mat-hint>MM/DD/YYYY - MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-date-range-picker #picker></mat-date-range-picker>
      </mat-form-field>
      <br>
      <button (click)="onDownload()">Download a CSV of All Individual Learning Objects</button>
    </div> -->
  </div>
  <cube-footer></cube-footer>
  
