<div class="wrapper">
  <div class="content-box" [ngClass]="{'failed': registerFailure }">
    <div class="top">
      <div class="error"> {{ registerFailure || '' }} </div>
      <div class="title">C.L.A.R.K.</div>
      <div class="title light">Cybersecurity Labs and Resource Knowledge-base</div>
      <form [formGroup]="regForm" [@slideInRight]="slide" [@fallFromTop]="fall">
        <div *ngIf="this.page === 1">
          <clark-personal-info [group]="regForm"></clark-personal-info>
        </div>
        <div *ngIf="this.page === 2">
          <clark-profile-info [group]="regForm"></clark-profile-info>
        </div>
        <div *ngIf="this.page === 3">
          <clark-gravatar-info [group]="regForm" [email]="this.regForm.controls['email'].value"></clark-gravatar-info>
          <div ngRecaptcha key="{{siteKey}}" (captchaSuccess)="captureResponse($event)" formControlName="captcha"></div>
        </div>
      </form>
      <div class="buttons">
        <ng-container *ngIf="page !== 1">
          <button type="type" class="reg-button" (click)="back()">
            <i class="far fa-arrow-left"></i>
          </button>
        </ng-container>
        <ng-container *ngIf="page !== elements.length">
          <button type="type" class="reg-button right" (click)="next()">
            <i class="far fa-arrow-right"></i>
          </button>
        </ng-container>
      </div>
      <clark-indicator [active]="page - 1" [elements]="elements" (shouldChange)="navigate($event)"></clark-indicator>
    </div>
    <div class="bottom-link" routerLink="../login">
      Already have an account? 
      <span>Sign in!</span>
    </div>
  </div>
</div>