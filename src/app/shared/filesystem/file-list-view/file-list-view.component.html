<div *ngIf="preview">
  <div class="wrapper">
    <div class="grid-row header">
      <div class>Name</div>
      <div class>Description</div>
      <div class>Date</div>
      <div class>Size</div>
      <div *ngIf="canManage" class="placeholder"></div>
    </div>
    <!-- Render Folders -->

    <!-- Render Files -->
    <cdk-virtual-scroll-viewport itemSize="30" class="file-list-viewport">
      <ng-container
        *cdkVirtualFor="
          let item of directoryListing;
          trackBy: trackItems;
          templateCacheSize: 0
        "
      >
        <!-- Folder -->
        <clark-folder-list-item
          *ngIf="item.folders"
          class="folder"
          (clicked)="openFolder(item.name)"
          (menuClicked)="handleMenuClicked($event, item)"
          [folder]="item"
          [showOptionButton]="canManage"
          [contextMenu]="fileOptions"
          [contextMenuSubject]="item"
        ></clark-folder-list-item>

        <!-- File -->
        <clark-file-list-item
          *ngIf="!item.folders"
          class="file"
          (clicked)="openFile(item)"
          (menuClicked)="handleMenuClicked($event, item)"
          [file]="item"
          [showOptionButton]="canManage"
          [contextMenu]="fileOptions"
          [contextMenuSubject]="item"
        ></clark-file-list-item>
      </ng-container>
    </cdk-virtual-scroll-viewport>
  </div>
</div>
<div class="preview" *ngIf="!preview">
  <clark-file-preview></clark-file-preview>
  <button (click)="returnToFileView()" class="button good">
    Return to file view
  </button>
</div>
