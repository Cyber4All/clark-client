<div class="wrapper">
    <div [ngClass]="{'failed': showError}" class="content-box">
        <clark-error-banner
            [errorMessage]="errorMessage"
            class="errBanner"
        ></clark-error-banner>
        <img src="../../../assets/images/logo.png" alt="CLARK Logo" />

        <div *ngIf="!showDone" [@switchViews]="showDone">
            <form (ngSubmit)="switch()">
                <h1>Request Password Reset</h1>
            
            <clark-input-field
                phold="Email"
                [control]="emails.get('email')"
                #email
                ngModel
                (input)="toggleButton()"
                name="email"
                [errorMsg]="emailErrorMsg"
            >
            </clark-input-field>

            <clark-input-field
                phold="Confirm Email"
                [control]="emails.get('confirmEmail')"
                confirmType="Email"
                ngModel
                (input)="toggleButton()"
                name="confirmEmail"
            >
            </clark-input-field>

            <button (click)="switch()" [ngClass]="submitButton" [disabled]="submitButton === 'disabled'" [@toggleButton]="submitButton">Request Password Reset</button>
            </form>
            
        </div>

        <div *ngIf="showDone" class="done" [@switchViews]="showDone">
            <h2>Email is on the way!</h2>
            <p>Check your inbox and spam folders</p>
            <button routerLink="../login">Login</button>
        </div>
        
        
    </div>
</div>


