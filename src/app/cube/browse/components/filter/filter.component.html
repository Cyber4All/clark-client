<div>
  <!-- Topics Filters - Pill/Chip Style (using filter-section for accordion behavior) -->
  <clark-filter-section [info]="topicFilter" (change)="registerChange()">
    <div class="topic-pills-container" *ngIf="topicFilter?.filters">
      <button *ngFor="let topic of topicFilter.filters"
        class="topic-pill"
        [ngClass]="{'active': topic.active}"
        (activate)="toggleTopicFilter(topic)">
        {{ topic.name }}
      </button>
    </div>
  </clark-filter-section>

  <!-- Level Filters -->
  <clark-filter-section [info]="levelFilter" (change)="registerChange()"></clark-filter-section>

  <!-- Materials Filters (from Tags) -->
  <clark-filter-section [info]="getMaterialsTagFilter()" (change)="registerChange()"></clark-filter-section>

  <!-- Duration Filters (formerly Length) -->
  <clark-filter-section [info]="lengthFilter" (change)="registerChange()"></clark-filter-section>

  <!-- Collections Filters -->
  <clark-filter-section [info]="collectionFilter" (change)="registerChange()"></clark-filter-section>

  <!-- Frameworks Filters (formerly Guidelines) -->
  <clark-filter-section [info]="frameworkFilter" (change)="registerChange()">
    <a (click)="openAdvancedSearch()">Advanced
      <span *ngIf="guidelineFilter.length > 0">({{ guidelineFilter.length }} Selected)</span></a>
  </clark-filter-section>
</div>

<div *ngIf="isAdminOrEditor()">
  <br />
  <p>Admin/Editor Filters</p>
  <clark-filter-section [info]="noGuidelineFilter" (change)="registerChange()"></clark-filter-section>
</div>


<clark-popup *ngIf="showAdvancedSearch" (closed)="closeAdvancedSearch()">
  <div class="modal-container center" #popupInner>
    <clark-guideline-filter [selectedGuidelines]="guidelineFilter.slice()" (close)="closeAdvancedSearch()"
      (changed)="filterGuidelines($event)"></clark-guideline-filter>
  </div>
</clark-popup>
