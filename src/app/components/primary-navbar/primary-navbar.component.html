<ng-template #desktop>
    <div class="desktop-navbar">
        <div class="nav-wrapper">
            <div class="logo">
                <span class="logo-image"></span>
                <span id="clark-logo" class="logo-link" [routerLink]="['home']">CLARK</span>
            </div>
            <div class="mid-bar">
                <div class="level-picker" (click)="openAcademicLevels()">
                    All Academic Levels
                    <span class="arrow" *ngIf="!levelsDropdown">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                    <span class="arrow" *ngIf="levelsDropdown">
                        <i class="fas fa-chevron-up"></i>
                    </span>
                </div>
                <div class="search-bar">
                    <clark-search></clark-search>
                </div>
            </div>
            <div class="right">
                <button class="contribute-button" *ngIf="isLoggedIn">
                    <div>
                        CONTRIBUTE
                    </div>
                </button>
                <div class="logged-in" *ngIf="isLoggedIn">
                    <div class="profile-picture" id="profile" [ngStyle]="{'background-image': 'url(' + gravatarImage(50) + ')'}"></div>
                    <div class="username" (click)="openUserDropdown()">Hi, <span style="margin-left: 2px">{{ this.auth.firstName }}</span>
                        <span class="arrow" *ngIf="!userDropdown">
                            <i class="fas fa-chevron-down"></i>
                        </span>
                        <span class="arrow" *ngIf="userDropdown">
                            <i class="fas fa-chevron-up"></i>
                        </span>
                    </div>
                </div>
                <div class="logged-out" *ngIf="!isLoggedIn">
                    <a class="login-button" [routerLink]="['auth', 'login']">Sign In</a>
                    <a class="register-button" [routerLink]="['auth', 'register']">Register</a>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #mobile>
    <div class="mobile">
        <div class="mobile-logo">
            <span class="mobile-logo-image"></span>
            <span id="clark-logo" class="mobile-logo-link" [routerLink]="home">CLARK</span>
        </div>
        <div class="mobile-right">
            <span (click)="openMSearch()"></span>
            <i class="search fas fa-search"></i>
            <span (click)="openMHamburger()">
                <i class="hamburger fas fa-bars"></i>
            </span>
        </div>
    </div>
    <div class="slideout" *ngIf="!isDesktop; isMHamburger" [ngClass]="{'active': isMHamburger}">
        <div class="slideout-section">
            <div class="user" *ngIf="isLoggedIn">
                <div class="info">
                    <div class="profile-picture" id="profile" [ngStyle]="{'background-image': 'url(' + gravatarImage(70) + ')'}"></div>
                    <div class="username">Hi, {{ this.auth.firstName }}!
                        <div>
                            <a href="/users/{{ auth.username }}">View Your Profile</a>
                        </div>
                    </div>
                </div>
                    <button class="button good contribute">CONTRIBUTE</button>
                    <hr>
                    <div>
                        <ul class="menu-items">
                            <li [routerLink]="['library']">Your Library</li>
                            <li [routerLink]="">Sign Out</li>
                        </ul>
                    </div>
            </div>
            <div class="logged-out" *ngIf="!isLoggedIn">
                <div class="greeting">Hi there!</div>
                <div class="auth-buttons">
                    <button class="button sign-in" [routerLink]="['auth', 'login']">Sign In</button>
                    <button class="button register" [routerLink]="['auth', 'register']">Register</button>
                </div>
            </div>
            <hr>
            <ul class="menu-items">
                <li>About Us</li>
                <li>Topics
                    <span class="arrow" *ngIf="!levelsDropdown">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                    <span class="arrow" *ngIf="levelsDropdown">
                        <i class="fas fa-chevron-up"></i>
                    </span>
                </li>
                <li>Collections</li>
                <li>External Resources
                    <span class="arrow" *ngIf="!levelsDropdown">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                    <span class="arrow" *ngIf="levelsDropdown">
                        <i class="fas fa-chevron-up"></i>
                    </span>
                </li>
            </ul>
        </div>
    </div>
</ng-template>

<ng-container *ngTemplateOutlet="isDesktop ? desktop : mobile"></ng-container>